<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://unpkg.com/css.gg@2.0.0/icons/css/search.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div class="container">
      <div class="weather-app">
        <div class="weather-app-left">
          <div class="form">
            <input type="text" placeholder="Search Location" class="search-box" />
            <button id="search-btn" onclick="search()"><i class="fa fa-search"></i></button>
          </div>

          <div class="weather-app-c-one">
            <div class="weather-app-c-one-left">
              <h2 id="city">Tenkasi</h2>

              <h1 id="temp">26&deg;c</h1>
              
            </div>

            <div class="weather-app-c-one-right">
              <img src="icons/images/clear.png" alt="" id="wea"/>
            </div>
          </div>
          <div class="weather-app-c-two">
            <div class="humidity">
              <p>Humidity</p>
              <img src="icons/images/humidity.png"  alt="" />
              <h3>&nbsp;</h3>
              <h3 id="humidity-id">90%</h3>
              
            </div>

            <div class="wind-speed">
              <p >Wind Speed</p>
              <img src="icons/images/wind.png" alt="" />
              <h3>&nbsp;</h3>
              <h3 id="wind-speed-id">&nbsp; 2 km/h</h3>
              
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>

        const apiKey = "24fa594a454c120074985e7d9320e485";
        const apiUrl = "https://api.openweathermap.org/data/2.5/weather?units=metric&q=";
        const searchBox = document.querySelector(".search-box");
        const searchBtn = document.querySelector("#search-btn");
        const weathericon = document.querySelector("#wea")

        async function checkWeather(cityname){
            const response = await fetch(apiUrl + cityname + `&appid=${apiKey}`)
            var data = await response.json();

            console.log(data)

            document.getElementById("city").innerHTML = data.name;
            document.getElementById("humidity-id").innerHTML = data.main.humidity + "%";
            document.getElementById("wind-speed-id").innerHTML = data.wind.speed + " km/h";
            document.getElementById("temp").innerHTML = Math.floor(data.main.temp) + "&deg;c";
            
            
        if(data.weather[0].main == "Clouds"){
          weathericon.src = "icons/images/clouds.png"      
        }
        else if(data.weather[0].main == "Clear"){
          weathericon.src = "icons/images/clear.png"      
        }
        else if(data.weather[0].main == "Snow"){
          weathericon.src = "icons/images/snow.png"      
        }
        else if(data.weather[0].main == "Drizzle"){
          weathericon.src = "icons/images/drizzle.png"      
        }
        else if(data.weather[0].main == "Mist"){
          weathericon.src = "icons/images/mist.png"      
        }
        else if(data.weather[0].main == "Rain"){
          weathericon.src = "icons/images/rain.png"      
        }
        

      }

        

        function search(){

          
          cityis = searchBox.value;
          checkWeather(cityis)
          
        
        }


        




      



        

        


        

       





    </script>
  </body>
</html>
